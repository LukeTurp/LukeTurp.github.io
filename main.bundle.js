!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!P[e]||!w[e])return;for(var n in w[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(h[n]=t[n]);0==--g&&0===v&&C()}(e,n),t&&t(e,n)};var n,r=!0,o="330c0107ea5d62326fd0",i={},a=[],c=[];function s(e){var t=L[e];if(!t)return T;var r=function(r){return t.hot.active?(L[r]?-1===L[r].parents.indexOf(e)&&L[r].parents.push(e):(a=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),a=[]),T(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return T[e]},set:function(t){T[e]=t}}};for(var i in T)Object.prototype.hasOwnProperty.call(T,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(r,i,o(i));return r.e=function(e){return"ready"===p&&f("prepare"),v++,T.e(e).then(t,(function(e){throw t(),e}));function t(){v--,"prepare"===p&&(b[e]||S(e),0===v&&0===g&&C())}},r.t=function(e,t){return 1&t&&(e=r(e)),T.t(e,-2&t)},r}function u(t){var r={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:n!==t,active:!0,accept:function(e,t){if(void 0===e)r._selfAccepted=!0;else if("function"==typeof e)r._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)r._acceptedDependencies[e[n]]=t||function(){};else r._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)r._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)r._declinedDependencies[e[t]]=!0;else r._declinedDependencies[e]=!0},dispose:function(e){r._disposeHandlers.push(e)},addDisposeHandler:function(e){r._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=r._disposeHandlers.indexOf(e);t>=0&&r._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,p){case"idle":(h={})[t]=e[t],f("ready");break;case"ready":M(t);break;case"prepare":case"check":case"dispose":case"apply":(m=m||[]).push(t)}},check:O,apply:k,status:function(e){if(!e)return p;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:i[t]};return n=void 0,r}var l=[],p="idle";function f(e){p=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var d,h,y,m,g=0,v=0,b={},w={},P={};function E(e){return+e+""===e?+e:e}function O(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return r=e,f("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=T.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return f(I()?"ready":"idle"),null;w={},b={},P=e.c,y=e.h,f("prepare");var t=new Promise((function(e,t){d={resolve:e,reject:t}}));h={};return S(0),"prepare"===p&&0===v&&0===g&&C(),t}));var t}function S(e){P[e]?(w[e]=!0,g++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=T.p+""+e+"."+o+".hot-update.js",document.head.appendChild(t)}(e)):b[e]=!0}function C(){f("ready");var e=d;if(d=null,e)if(r)Promise.resolve().then((function(){return k(r)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&t.push(E(n));e.resolve(t)}}function k(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");return function t(r){var c,s,u,l,p;function d(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),i=o.id,a=o.chain;if((l=L[i])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(l.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var c=0;c<l.parents.length;c++){var s=l.parents[c],u=L[s];if(u){if(u.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([s]),moduleId:i,parentId:s};-1===t.indexOf(s)&&(u.hot._acceptedDependencies[i]?(n[s]||(n[s]=[]),g(n[s],[i])):(delete n[s],t.push(s),r.push({chain:a.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}I();var v={},b=[],w={},O=function(){console.warn("[HMR] unexpected require("+C.moduleId+") to disposed module")};for(var S in h)if(Object.prototype.hasOwnProperty.call(h,S)){var C;p=E(S),C=h[S]?d(p):{type:"disposed",moduleId:S};var k=!1,M=!1,x=!1,j="";switch(C.chain&&(j="\nUpdate propagation: "+C.chain.join(" -> ")),C.type){case"self-declined":r.onDeclined&&r.onDeclined(C),r.ignoreDeclined||(k=new Error("Aborted because of self decline: "+C.moduleId+j));break;case"declined":r.onDeclined&&r.onDeclined(C),r.ignoreDeclined||(k=new Error("Aborted because of declined dependency: "+C.moduleId+" in "+C.parentId+j));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(C),r.ignoreUnaccepted||(k=new Error("Aborted because "+p+" is not accepted"+j));break;case"accepted":r.onAccepted&&r.onAccepted(C),M=!0;break;case"disposed":r.onDisposed&&r.onDisposed(C),x=!0;break;default:throw new Error("Unexception type "+C.type)}if(k)return f("abort"),Promise.reject(k);if(M)for(p in w[p]=h[p],g(b,C.outdatedModules),C.outdatedDependencies)Object.prototype.hasOwnProperty.call(C.outdatedDependencies,p)&&(v[p]||(v[p]=[]),g(v[p],C.outdatedDependencies[p]));x&&(g(b,[C.moduleId]),w[p]=O)}var _,R=[];for(s=0;s<b.length;s++)p=b[s],L[p]&&L[p].hot._selfAccepted&&w[p]!==O&&!L[p].hot._selfInvalidated&&R.push({module:p,parents:L[p].parents.slice(),errorHandler:L[p].hot._selfAccepted});f("dispose"),Object.keys(P).forEach((function(e){!1===P[e]&&function(e){delete installedChunks[e]}(e)}));var A,N,D=b.slice();for(;D.length>0;)if(p=D.pop(),l=L[p]){var q={},F=l.hot._disposeHandlers;for(u=0;u<F.length;u++)(c=F[u])(q);for(i[p]=q,l.hot.active=!1,delete L[p],delete v[p],u=0;u<l.children.length;u++){var U=L[l.children[u]];U&&((_=U.parents.indexOf(p))>=0&&U.parents.splice(_,1))}}for(p in v)if(Object.prototype.hasOwnProperty.call(v,p)&&(l=L[p]))for(N=v[p],u=0;u<N.length;u++)A=N[u],(_=l.children.indexOf(A))>=0&&l.children.splice(_,1);f("apply"),void 0!==y&&(o=y,y=void 0);for(p in h=void 0,w)Object.prototype.hasOwnProperty.call(w,p)&&(e[p]=w[p]);var B=null;for(p in v)if(Object.prototype.hasOwnProperty.call(v,p)&&(l=L[p])){N=v[p];var G=[];for(s=0;s<N.length;s++)if(A=N[s],c=l.hot._acceptedDependencies[A]){if(-1!==G.indexOf(c))continue;G.push(c)}for(s=0;s<G.length;s++){c=G[s];try{c(N)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:p,dependencyId:N[s],error:e}),r.ignoreErrored||B||(B=e)}}}for(s=0;s<R.length;s++){var H=R[s];p=H.module,a=H.parents,n=p;try{T(p)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:p,error:t,originalError:e}),r.ignoreErrored||B||(B=t),B||(B=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:p,error:e}),r.ignoreErrored||B||(B=e)}}if(B)return f("fail"),Promise.reject(B);if(m)return t(r).then((function(e){return b.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return f("idle"),new Promise((function(e){e(b)}))}(t=t||{})}function I(){if(m)return h||(h={}),m.forEach(M),m=void 0,!0}function M(t){Object.prototype.hasOwnProperty.call(h,t)||(h[t]=e[t])}var L={};function T(t){if(L[t])return L[t].exports;var n=L[t]={i:t,l:!1,exports:{},hot:u(t),parents:(c=a,a=[],c),children:[]};return e[t].call(n.exports,n,n.exports,s(t)),n.l=!0,n.exports}T.m=e,T.c=L,T.d=function(e,t,n){T.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},T.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},T.t=function(e,t){if(1&t&&(e=T(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(T.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)T.d(n,r,function(t){return e[t]}.bind(null,r));return n},T.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return T.d(t,"a",t),t},T.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},T.p="",T.h=function(){return o},s(2)(T.s=2)}([function(t,n,r){var o;window,o=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){e.exports=n(14)},function(e,t,n){var r=n(15);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t){function n(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function c(e){n(a,o,i,c,s,"next",e)}function s(e){n(a,o,i,c,s,"throw",e)}c(void 0)}))}}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},,function(e,t,n){var r=n(16);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(2),o=n(4);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=w(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l={};function p(){}function f(){}function d(){}var h={};h[o]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(S([])));m&&m!==t&&n.call(m,o)&&(h=m);var g=d.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,c){var s=u(e[o],e,i);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(p).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,c)}))}c(s.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=g.constructor=d,d.constructor=f,f.displayName=c(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),b.prototype[i]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new b(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(g),c(g,a,"Generator"),g[o]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(t,n,r){"use strict";r.r(n),r.d(n,"createTEConnect",(function(){return Re}));var o=r(6),i=r.n(o),a=r(7),c=r.n(a),s=r(8),u=r.n(s),l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),p=new Uint8Array(16);function f(){if(!l)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(p)}for(var d=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,h=function(e){return"string"==typeof e&&d.test(e)},y=[],m=0;m<256;++m)y.push((m+256).toString(16).substr(1));var g=function(e,t,n){var r=(e=e||{}).random||(e.rng||f)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(y[e[t+0]]+y[e[t+1]]+y[e[t+2]]+y[e[t+3]]+"-"+y[e[t+4]]+y[e[t+5]]+"-"+y[e[t+6]]+y[e[t+7]]+"-"+y[e[t+8]]+y[e[t+9]]+"-"+y[e[t+10]]+y[e[t+11]]+y[e[t+12]]+y[e[t+13]]+y[e[t+14]]+y[e[t+15]]).toLowerCase();if(!h(n))throw TypeError("Stringified UUID is invalid");return n}(r)},v="".concat("https://teconnectdemo.magensa.dev"),b={passive:!0},w=["total","currencyCode","countryCode","merchantCapabilities","supportedNetworks","storeDisplayName"],P=["allowedCardNetworks","transactionInfo","merchantName","gatewayId"],E=["apiVersion","apiVersionMinor","callbackIntents","offerInfo","emailRequired","shippingAddressRequired","shippingAddressParameters","shippingOptionRequired","shippingOptionParameters"],O=[].concat(E,["allowedPaymentMethods","existingPaymentMethodRequired","environment","paymentDataCallbacks","prefetchGooglePaymentData"]),S=["appleMerchantId","googleMerchantId"],C=["buttonColor","buttonType","buttonLocale","buttonSizeMode","buttonRootNode"],k="tec-payment-request-complete",I={baseRequest:{apiVersion:2,apiVersionMinor:0},allowedCardAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],baseCardPaymentMethod:{type:"CARD",parameters:{allowedAuthMethods:null,allowedCardNetworks:null}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:null},merchantInfo:null,transactionInfo:null,environment:"TEST"},M=r(0),L=r.n(M),T=r(2),x=r.n(T),j="'te-connect' is designed for use within web applications.",_="DOM element provided is not the expected node.",R="Response from server has been altered. Refused response, please try again",A="Timeout: Response not received from TEConnect",N="'instanceDetails' object supplied to 'createPaymentToken' function is missing a required property:",D="Failed to locate TecPR event element. Please make sure TEConnect Payment Request button is mounted, and TEConnect elements are unaltered on the DOM.";function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=function(e){return"string"==typeof e&&""!==e},H=function(e,t){return e?"string"!=typeof e.nodeName?new Error("Unable to recognize provided node"):"IFRAME"!==e.nodeName?new Error(_):!0!==t?W(e,"__teConnectSecureFrame","__te-connect-secure-window"):W(e,"__tecPrFrameName","__tec-pr-window"):new Error("Unable to recognize provided node")},W=function(e,t,n){var r=e.name,o=e.id;return"string"==typeof r&&"string"==typeof o&&r===t&&o===n||new Error(_)},V=function(e){return e?h(e)?void 0:new Error("formId is not valid"):new Error("formId not found")},z=function(e){if(!e)return{error:"Node info object not provided in 'createPayment' call."};if("object"!==x()(e))return{error:"Node info object provided is not in recognized format."};if(void 0===e.elements||void 0===e.formId)return{error:"Node info object provided is not in recognized format."};var t=H(e.elements);if(t instanceof Error)return{error:t.message};var n=V(e.formId);return n instanceof Error?{error:n.message}:e},J=function(e){if("object"!==x()(e)||null===e)return{error:"'createPaymentToken' function requires an 'instanceDetails' object as a parameter"};var t=e.instanceId,n=e.formId,r=e.controllerRef;if(!G(t))return{error:"".concat(N," 'instanceId'")};if(!G(n))return{error:"".concat(N," 'formId'")};var o=V(n);if(o instanceof Error)return{error:o.message};var i=H(r,!0);return i instanceof Error?{error:i.message}:e},Y=function(e,t){if("object"!==x()(e))throw new Error("Please supply a Payment Request object");var n,r=U(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(void 0===e[o])throw new Error("'".concat(o,"' is a required property for a Payment Request object, but was found to be 'undefined'"))}}catch(e){r.e(e)}finally{r.f()}},Z=function(e,t){var n=I;n.merchantInfo={merchantName:e.merchantName,merchantId:t},n.baseCardPaymentMethod.parameters={allowedAuthMethods:e.allowedAuthMethods||n.allowedCardAuthMethods,allowedCardNetworks:e.allowedCardNetworks},n.transactionInfo=e.transactionInfo,n.tokenizationSpecification.parameters={gateway:"magensa",gatewayMerchantId:e.gatewayId};var r,o=U(O);try{for(o.s();!(r=o.n()).done;){var i=r.value;void 0!==e[i]&&(n[i]=e[i])}}catch(e){o.e(e)}finally{o.f()}return n},K=function(e){var t=e.baseCardPaymentMethod,n=e.tokenizationSpecification,r=e.allowedPaymentMethods,o=[F(F({},t),{},{tokenizationSpecification:n})];if(r&&r.length>0){var i,a=U(r);try{for(a.s();!(i=a.n()).done;){var c=i.value;o.push(F(F({},c),{},{tokenizationSpecification:n}))}}catch(e){a.e(e)}finally{a.f()}}return o},X=function(e){var t,n=e.baseRequest,r=e.merchantInfo,o=e.transactionInfo,i=F(F({},n),{},{allowedPaymentMethods:K(e),transactionInfo:o,merchantInfo:r}),a=U(E);try{for(a.s();!(t=a.n()).done;){var c=t.value;void 0!==e[c]&&(i[c]=e[c])}}catch(e){a.e(e)}finally{a.f()}return i},$=function(e,t){if("object"!==x()(e))throw new Error("Please supply a Payment Request object");var n={},r=t.appleMerchantId,o=t.googleMerchantId;return r&&(e.applePay?(Y(e.applePay,w),n.applePay=e.applePay):(Y(e,w),n.applePay=e)),o&&(e.googlePay?(Y(e.googlePay,P),n.googlePay=Z(e.googlePay,o)):(Y(e,P),n.googlePay=Z(e,o))),n},Q=function(e){if(e){var t=e.closest("div");if(t)return t;var n=document.getElementsByClassName("_tec-payment-evt-ele");if(n&&n.length>0)return n[0]}throw new Error(D)},ee=function(e){return function(t,n){var r=new CustomEvent(t,{detail:n});e.dispatchEvent(r)}},te=function(e){if(e&&"object"===x()(e)){var t=e.errorType;if("string"==typeof t)switch(t){case"failure":return{error:"unknown",message:e.message};case"addressInvalid":return{error:"addressUnserviceable",message:e.message};default:return}}return{error:"unknown",message:""}},ne=function(e){var t,n=[],r=U(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o instanceof window.ApplePayError)n.push(o);else{var i=te(o);void 0!==i&&n.push(new window.ApplePayError(i.error,"countryCode",i.message))}}}catch(e){r.e(e)}finally{r.f()}return n},re=function(e){if(e){if("string"==typeof e)return{status:"success"===e.toLowerCase()?ApplePaySession.STATUS_SUCCESS:ApplePaySession.STATUS_FAILURE};if(e&&"number"==typeof e.status){if(e.errors&&e.errors.length>0){var t=ne(e.errors);e.errors=t}return e}}return console.error("[Token Exchange Connect Error]: Unrecognized completion result. Completing payment with failure."),{status:ApplePaySession.STATUS_FAILURE}},oe=r(5),ie=r.n(oe),ae=r(4),ce=r.n(ae),se=r(11),ue=r.n(se),le=r(12),pe=r.n(le),fe=r(9),de=r.n(fe),he=r(13),ye=r.n(he),me=r(1),ge=r.n(me),ve=r(3),be=r.n(ve),we=new WeakMap,Pe=new WeakMap,Ee=new WeakMap,Oe=new WeakMap,Se=new WeakMap,Ce=new WeakMap,ke=new WeakMap,Ie=new WeakMap,Me=new WeakMap,Le=new WeakMap;function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=function(t){ue()(r,t);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de()(e);if(t){var o=de()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe()(this,n)}}(r);function r(t,o){var a;return ie()(this,r),a=n.call(this,t,o),L()(ce()(a),"updatePaymentRequest",(function(e){var t=$(e,a.paymentRequestIds);a.paymentRequestObj=t})),L()(ce()(a),"appleCanMakePayments",(function(){return new Promise((function(e){if("boolean"==typeof a.appleCanMakePaymentsResult)return e({applePay:a.appleCanMakePaymentsResult});var t=setTimeout((function(){void 0===a.appleCanMakePaymentsResult&&(a.appleCanMakePaymentsResult=!1)}),2e4);return e(function e(n){return new Promise((function(n){if("boolean"==typeof a.appleCanMakePaymentsResult)return clearTimeout(t),n({applePay:a.appleCanMakePaymentsResult});setTimeout((function(){return n(e())}),200)}))}())}))})),L()(ce()(a),"googleCanMakePayments",(function(){return new Promise((function(e){if(void 0!==a.googleCanMakePaymentsResult)return e({googlePay:a.googleCanMakePaymentsResult});var t=setTimeout((function(){void 0===a.googleCanMakePaymentsResult&&(a.googleCanMakePaymentsResult=!1)}),2e4);return e(function e(n){return new Promise((function(n){void 0!==a.googleCanMakePaymentsResult?(clearTimeout(t),n({googlePay:a.googleCanMakePaymentsResult})):setTimeout((function(){return n(e())}),200)}))}())}))})),L()(ce()(a),"canMakePayments",(function(e){return new Promise((function(e){var t=a.paymentRequestIds,n=t.appleMerchantId,r=t.googleMerchantId;if(n&&r){var o={};return a.appleCanMakePayments().then((function(e){return Object.assign(o,e)})).then((function(t){return console.log("appleResp",t),a.googleCanMakePayments().then((function(n){return Object.assign(o,n),console.log("[CMP]",o),e(!1===t.applePay&&!1===n.googlePay?null:o)}))}))}return n?a.appleCanMakePayments().then((function(t){return e(!1===t.applePay?null:t)})):r?a.googleCanMakePayments().then((function(t){return e(!1===t.googlePay?null:t)})):void 0}))})),L()(ce()(a),"listenFor",(function(t,n){var r=function(e,t){if("function"!=typeof t)throw new Error("Please supply a function as the listener argument ".concat("to the 'listenFor' function"));if("string"!=typeof e)throw new Error("Please specify the event ".concat("to the 'listenFor' function"));return{eventToLower:e.toLowerCase(),suppliedListener:t}}(t,n),o=r.eventToLower,i=r.suppliedListener,c=function(t){var n=t.detail;return n?i(n):e};switch(o){case"confirm-token":a.customerPaymentListener=c;break;case"cancel-transaction":a.customerCancelListener=c;break;case"payment-method-selection":a.paymentMethodListener=c;break;case"shipping-contact-update":a.shippingContactListener=c;break;case"shipping-method-update":a.shippingMethodListener=c;break;default:return}})),L()(ce()(a),"createPaymentRequestToken",function(){var e=u()(i.a.mark((function e(t){var n,r,o,c,s,u,l,p,f,d,h,y,m,w,P,E;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new ApplePaySession(3,a.paymentRequestObj.applePay),r=a.paymentRequestObj.applePay.storeDisplayName,o=J(t),c=o.instanceId,s=o.formId,u=o.controllerRef,l=o.error,p=Q(u),f=ee(p),!l){e.next=7;break}return e.abrupt("return",f(k,{error:l}));case 7:return d=a.paymentRequestIds.appleMerchantId,h=g(),y=null,m=null,w=function(e){var t=e.validationURL;G(t)&&u.contentWindow.postMessage(JSON.stringify({type:"_create_payment_request_session",vUrl:t,iid:c,sessionSignature:h,prFormId:s,storeDisplayName:r,appleMerchantId:d}),v)},n.onvalidatemerchant=w,"function"==typeof a.customerCancelListener&&(p.removeEventListener("tec-payment-request-cancel",a.customerCancelListener,b),p.addEventListener("tec-payment-request-cancel",a.customerCancelListener,b)),n.oncancel=function(e){var t=e.sessionError;f("tec-payment-request-cancel",{sessionError:t}),p.removeEventListener("tec-payment-method-selected",a.paymentMethodListener,b),p.removeEventListener("tec-payment-shipping-contact",a.shippingContactListener,b),p.removeEventListener("tec-payment-shipping-method",a.shippingMethodListener,b),p.removeEventListener("tec-payment-request-cancel",a.customerCancelListener,b)},"function"==typeof a.paymentMethodListener&&(p.removeEventListener("tec-payment-method-selected",a.paymentMethodListener,b),p.addEventListener("tec-payment-method-selected",a.paymentMethodListener,b),n.onpaymentmethodselected=function(e){var t=e.paymentMethod;f("tec-payment-method-selected",{paymentMethod:t,completePaymentMethodSelection:function(e){n.completePaymentMethodSelection(e)}})}),"function"==typeof a.shippingContactListener&&(p.removeEventListener("tec-payment-shipping-contact",a.shippingContactListener,b),p.addEventListener("tec-payment-shipping-contact",a.shippingContactListener,b),n.onshippingcontactselected=function(e){var t=e.shippingContact;f("tec-payment-shipping-contact",{shippingContact:t,completeShippingContactSelection:function(e){if(!e)throw new Error("Please provide a 'shippingContactUpdate' object");if(e.errors&&e.errors.length>0){var t=e.errors,r=ne(t);e.errors=r}n.completeShippingContactSelection(e)}})}),"function"==typeof a.shippingMethodListener&&(p.removeEventListener("tec-payment-shipping-method",a.shippingMethodListener,b),p.addEventListener("tec-payment-shipping-method",a.shippingMethodListener,b),n.onshippingmethodselected=function(e){var t=e.shippingMethod;f("tec-payment-shipping-method",{shippingMethod:t,completeShippingMethodSelection:function(e){n.completeShippingMethodSelection(e)}})}),P=function e(t){if("https://teconnectdemo.magensa.dev"===t.origin){var r=t.data;if(G(r)){var o=JSON.parse(r),i=o.type,s=o.sessionNonce,u=o.sessionObj,l=o.iid,f=o.error;if("_payment-requests-session-resp"===i&&l===c){if(s===h){if(clearTimeout(m),f&&(y={error:f},window.removeEventListener("message",e,b),"function"==typeof n.abort))return n.abort();n.completeMerchantValidation(u),n.onpaymentauthorized=function(e){p.removeEventListener(k,a.customerPaymentListener,b),p.addEventListener(k,a.customerPaymentListener,b),y={tokenDetails:{type:"applePay",token:e.payment.token},completePayment:function(e){var t=re(e);n.completePayment(t),p.removeEventListener(k,a.customerPaymentListener,b)}},p.removeEventListener("tec-payment-request-cancel",a.customerCancelListener,b),p.removeEventListener("tec-payment-method-selected",a.paymentMethodListener,b),p.removeEventListener("tec-payment-shipping-contact",a.shippingContactListener,b),p.removeEventListener("tec-payment-shipping-method",a.shippingMethodListener,b)}}else y={error:R};window.removeEventListener("message",e,b)}}}},m=setTimeout((function(){y||(y={error:A},window.removeEventListener("message",P,b))}),61e3),window.addEventListener("message",P,b),E=function e(t){return new Promise((function(t){return y?t(f(k,y)):setTimeout((function(){return t(e())}),400)}))},n.begin(),e.next=26,E();case 26:return e.abrupt("return",e.sent);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L()(ce()(a),"mountGoogleButton",(function(e,t){var n=t.eventRef,r=t.googlePayOptions,o=function(e){if(e&&"_tec-payment-evt-ele"===e.className)return e;throw new Error(D)}(n),i=ee(o),s=document.getElementById(e);if(!s)throw new Error("Could not locate specified node. Please ensure the node is present on the DOM, and the id supplied is accurate and unique.");if(a.googlePayClient){var u=function(){return o.removeEventListener(k,a.customerPaymentListener,b),o.addEventListener(k,a.customerPaymentListener,b),a.googlePayClient.loadPaymentData(X(a.paymentRequestObj.googlePay)).then((function(e){if(e&&e.paymentMethodData){var t=e.paymentMethodData,n=t.tokenizationData,r=c()(t,["tokenizationData"]);"object"===x()(n)&&(i(k,{tokenDetails:{type:"googlePay",token:n.token,additionalData:xe(xe({},r),{},{tokenizationDataType:n.type})}}),o.removeEventListener(k,a.customerPaymentListener,b))}})).catch((function(e){i(k,{error:e.message}),console.error(e),o.removeEventListener(k,a.customerPaymentListener,b)}))},l={allowedPaymentMethods:K(a.paymentRequestObj.googlePay)};if(r){var p=function(e){var t,n={},r=U(C);try{for(r.s();!(t=r.n()).done;){var o=t.value;e[o]&&(n[o]=e[o])}}catch(e){r.e(e)}finally{r.f()}return n}(r);"function"==typeof r.preClick?l.onClick=function(){return r.preClick(),u()}:l.onClick=u,Object.assign(l,p)}else l.onClick=u;var f=a.googlePayClient.createButton(l);if(s.appendChild(f),!0===a.paymentRequestObj.googlePay.prefetchGooglePaymentData){var d=X(a.paymentRequestObj.googlePay),h=d.transactionInfo&&d.transactionInfo.currencyCode||"USD";d.transactionInfo={totalPriceStatus:"NOT_CURRENTLY_KNOWN",currencyCode:h},a.googlePayClient.prefetchPaymentData()}}})),a}return r}(function(){function e(t,n){var r=this;ie()(this,e),we.set(this,{writable:!0,value:void 0}),Pe.set(this,{writable:!0,value:void 0}),Ee.set(this,{writable:!0,value:void 0}),Oe.set(this,{writable:!0,value:void 0}),Se.set(this,{writable:!0,value:void 0}),Ce.set(this,{writable:!0,value:void 0}),ke.set(this,{writable:!0,value:void 0}),Ie.set(this,{writable:!0,value:void 0}),Me.set(this,{writable:!0,value:void 0}),Le.set(this,{writable:!0,value:void 0}),L()(this,"getGooglePayCanMakePayments",(function(e){var t,n,o=function(){if(console.log("test2",window,window.google),!window.google)throw new Error("Google Pay API was loaded, but `window.google` is unavailable");var t,n,o;r.googlePayClient||(r.googlePayClient=new google.payments.api.PaymentsClient((o={environment:(t=e).environment,merchantInfo:t.merchantInfo},(n=t.paymentDataCallbacks)&&(o.paymentDataCallbacks=n),o))),console.log("[test]",r.googlePayClient),r.googlePayClient.isReadyToPay(function(e){var t=e.baseRequest,n=e.baseCardPaymentMethod,r=e.allowedPaymentMethods,o=e.existingPaymentMethodRequired,i=[n];if(r&&r.length>0){var a,c=U(r);try{for(c.s();!(a=c.n()).done;){var s=a.value;i.push(s)}}catch(e){c.e(e)}finally{c.f()}}var u=F(F({},t),{},{allowedPaymentMethods:i});return!0===o&&(u.existingPaymentMethodRequired=o),console.log("isReadyToPayReq",u),u}(e)).then((function(e){console.log("[test2]",e),r.googleCanMakePaymentsResult=void 0!==e.paymentMethodPresent?e:e.result})).catch((function(e){console.error(e),console.log("[test3]",e),r.googleCanMakePaymentsResult=!1}))};document.getElementById("_google-pay-api")?o():(t=o,(n=document.createElement("script")).src="https://pay.google.com/gp/p/js/pay.js",n.async=!0,n.id="_google-pay-api",n.addEventListener("load",t,b),document.body.appendChild(n))})),L()(this,"applePayCanMakePayments",(function(e){window.ApplePaySession&&window.ApplePaySession.canMakePayments()?ApplePaySession.canMakePaymentsWithActiveCard(e).then((function(e){r.appleCanMakePaymentsResult=e})).catch((function(e){console.error(e),r.appleCanMakePaymentsResult=!1})):r.appleCanMakePaymentsResult=!1})),ge()(this,we,t),ge()(this,Pe,n);var o=n.appleMerchantId;n.googleMerchantId&&this.getGooglePayCanMakePayments(t.googlePay),o&&this.applePayCanMakePayments(o)}return ye()(e,[{key:"paymentRequestObj",get:function(){return be()(this,we)},set:function(e){ge()(this,we,e)}},{key:"paymentRequestIds",get:function(){return be()(this,Pe)},set:function(e){ge()(this,Pe,e)}},{key:"googlePayClient",get:function(){return be()(this,Ee)},set:function(e){ge()(this,Ee,e)}},{key:"customerPaymentListener",get:function(){return be()(this,Oe)},set:function(e){ge()(this,Oe,e)}},{key:"customerCancelListener",get:function(){return be()(this,Se)},set:function(e){ge()(this,Se,e)}},{key:"paymentMethodListener",get:function(){return be()(this,Ce)},set:function(e){ge()(this,Ce,e)}},{key:"shippingContactListener",get:function(){return be()(this,ke)},set:function(e){ge()(this,ke,e)}},{key:"shippingMethodListener",get:function(){return be()(this,Ie)},set:function(e){ge()(this,Ie,e)}},{key:"googleCanMakePaymentsResult",get:function(){return be()(this,Me)},set:function(e){ge()(this,Me,e)}},{key:"appleCanMakePaymentsResult",get:function(){return be()(this,Le)},set:function(e){ge()(this,Le,e)}}]),e}()),_e=function e(t,n){ie()(this,e);var r=new je(t,n);this.createPaymentRequestToken=r.createPaymentRequestToken,this.canMakePayments=r.canMakePayments,this.listenFor=r.listenFor,this.updatePaymentRequest=r.updatePaymentRequest,this.mountGoogleButton=r.mountGoogleButton},Re=function(e,t){var n=function(e){var t={};if("object"===x()(e)){"boolean"==typeof e.hideZip&&(t.hideZip=e.hideZip);var n=e.tecPaymentRequest;if(n&&"object"===x()(n)){var r,o={},i=U(S);try{for(i.s();!(r=i.n()).done;){var a=r.value,c=n[a];G(c)&&(o[a]="".concat(c))}}catch(e){i.e(e)}finally{i.f()}var s=function(e){var t,n=0,r=U(S);try{for(r.s();!(t=r.n()).done;){var o=e[t.value];G(o)&&n++}}catch(e){r.e(e)}finally{r.f()}if(0===n)throw new Error("'tecPaymentRequest' object was supplied, but was found to be empty. Please supply the id(s) for the desired payment request platform(s).");return e}(o);t.tecPaymentRequest=s}}return t}(t),r=n.hideZip,o=n.tecPaymentRequest,a=function(e){if(!e)throw new Error("".concat("Please provide a"," public key (pubKey) ").concat("to the 'createTEConnect' function"));if("string"!=typeof e)throw new Error("'pubKey' should be a string, but was found to be ".concat(x()(e)));return e}(e),s=g(),l=function(){if(!window)throw new Error("Unable to locate Window Interface. ".concat(j));if(!window.location)throw new Error("Unable to read 'location' property of Window Interface. ".concat(j));var e=window.location.origin;if(e)return e;throw new Error("Unable to read client's origin. ".concat(j))}(),p={};p.requestClient={instanceId:s,pubKey:a,requestOrigin:l};var f,d="".concat(v,"/?instanceId=").concat(s,"&pubKey=").concat(a,"&requestOrigin=").concat(btoa(l));return p.frameUrl="".concat(d,"&hideZip=").concat(!0===r?"true":"false"),o&&(p.prFrameUrl="".concat(d,"&enableTecPR=true"),p.paymentsRequestInterface=(f=o,function(e){var t=$(e,f);return new _e(t,f)})),p.createPayment=function(){var e=u()(i.a.mark((function e(t,n){var r,o,a,s,u,l,p,f,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=z(t),o=r.elements,a=r.formId,!(s=r.error)){e.next=3;break}return e.abrupt("return",{error:s});case 3:return u=g(),l=null,p=null,f=function e(t){if("https://teconnectdemo.magensa.dev"===t.origin){var n=JSON.parse(t.data);if(n&&"token_exchange_response"===n.type){if(clearTimeout(p),void 0!==n.nonce){var r=n.nonce,o=(n.type,c()(n,["nonce","type"]));l=r===u?o:{error:R}}else l=void 0!==n.error?{error:n.error}:{error:R};window.removeEventListener("message",e,b)}}},p=setTimeout((function(){l||(l={error:A},window.removeEventListener("message",f,b))}),61e3),window.addEventListener("message",f,b),o.contentWindow.postMessage(JSON.stringify({type:"create_card_payment",formId:a,nonce:u,billingZip:n||null}),v),d=function e(t){return new Promise((function(t){return l?t(l):setTimeout((function(){return t(e())}),400)}))},e.next=14,d();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p}}])},t.exports=o()},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){e.exports=n(8)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function c(e){n(a,o,i,c,s,"next",e)}function s(e){n(a,o,i,c,s,"throw",e)}c(void 0)}))}}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(7);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=w(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l={};function p(){}function f(){}function d(){}var h={};h[o]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(S([])));m&&m!==t&&n.call(m,o)&&(h=m);var g=d.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,c){var s=u(e[o],e,i);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(p).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,c)}))}c(s.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=g.constructor=d,d.constructor=f,f.displayName=c(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),b.prototype[i]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new b(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(g),c(g,a,"Generator"),g[o]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";n.r(t),n.d(t,"TeConnectJs",(function(){return j}));var r=n(3),o=n.n(r),i=n(6),a=n.n(i),c=n(2),s=n.n(c),u=n(4),l=n.n(u),p=n(1),f=n.n(p),d=n(5),h=n.n(d),y=n(0),m=n.n(y),g="".concat("https://teconnectdemo.magensa.dev"),v=["instanceId","pubKey","requestOrigin"],b="This usually means TEConnect was not loaded properly - or is unable to resolve the TEConnect URL.",w="Reference to Card Entry element was not found. ".concat(b,"."),P="Id for TEConnect inputs was not found. ".concat(b,"."),E="__te-connect-secure-window",O={passive:!0},S={border:"none !important",margin:"0px !important",padding:"0px !important",width:"1px !important",minWidth:"100% !important",overflow:"hidden !important",display:"block !important",userSelect:"none !important",transform:"translateZ(0px) !important",height:"100%"},C={buttonLanguage:"en",buttonType:"plain",buttonStyle:"black"};function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=document.createElement("iframe");return n.id=!0!==t?E:"__tec-pr-window",n.title=!0!==t?"TEConnect Secure Frame":"TEConnect Payment Requests Frame",n.name=!0!==t?"__teConnectSecureFrame":"__tecPrFrameName",n.width="100%",n.loading="lazy",n.allowPaymentRequest=!0,n.frameBorder="0",n.scrolling="no",n.setAttribute("allowtransparency","true"),n.src=e,!0!==t?function(e){for(var t=Object.keys(S),n=0;n<t.length;n++){var r=t[n];e.style[r]=S[r]}}(n):n.style.display="none",n}function M(e){var t=document.getElementById(e);if(!t)throw new Error("Could not locate specified node. Please ensure the node is present on the DOM, and the id supplied is accurate and unique.");return t}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(){function e(t){var n=this;o()(this,e),m()(this,"teConnect",void 0),m()(this,"listenerOptionsSupported",void 0),m()(this,"createTecPrTokenMethod",void 0),m()(this,"applePayBtnOptions",void 0),m()(this,"canMakePaymentsResult",void 0),m()(this,"mountGoogleBtnMethod",void 0),m()(this,"_clientStyles",void 0),m()(this,"_formId",void 0),m()(this,"sendStyles",(function(e){var t=document.getElementById(E);t&&t.contentWindow&&t.contentWindow.postMessage(JSON.stringify({type:"client_style_sheet",styles:e}),g)})),m()(this,"setStyles",(function(e){var t=function(e){if(e&&"object"===f()(e)&&"function"==typeof e.hasOwnProperty&&(e.hasOwnProperty("boxes")||e.hasOwnProperty("base")))return e;throw new Error("Styles object provided is not in recognized format. Please refer to the Styles API docs for guidance on how to construct your custom styles object.")}(e);n.clientStyles=t})),m()(this,"mountCardEntry",(function(e,t){var r=M(e);t&&n.setStyles(t),n.attachTeFormListener();var o=I(n.teConnect.frameUrl);r.appendChild(o)})),m()(this,"createPayment",function(){var e=l()(s.a.mark((function e(t){var r,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.getElementById(E)){e.next=3;break}throw new Error("Could not locate 'Card Entry'. Please ensure the node is present on the DOM ('mountCardEntry' was called prior to this call).");case 3:if(a=r,c=n.formId,""===(o=a?c&&"string"==typeof c?"":P:w)){e.next=6;break}return e.abrupt("return",{error:o});case 6:return i={elements:r,formId:n.formId},e.next=9,n.teConnect.createPayment(i,t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}var a,c}),e)})));return function(t){return e.apply(this,arguments)}}()),m()(this,"createPaymentRequestToken",l()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof n.createTecPrTokenMethod){e.next=14;break}if(t=document.getElementById("__tec-pr-window")){e.next=4;break}throw new Error("Could not locate TEConnect Payment Request. Please ensure the nodes are present on the DOM.");case 4:if(!("string"!=typeof n.prFormId||n.prFormId.length<5)){e.next=6;break}throw new Error("[TEConnect Session Error]: ".concat(P));case 6:return e.prev=6,e.next=9,n.createTecPrTokenMethod({instanceId:n.teConnect.requestClient.instanceId,formId:n.prFormId,controllerRef:t});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.error("[TEConnect Session Error]: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[6,11]])})))),m()(this,"mountTecPrButton",(function(e,t){if(n.canMakePaymentsResult){var r=n.canMakePaymentsResult,o=r.applePay,i=r.googlePay,a=((P=document.createElement("div")).className="_tec-payment-evt-ele",P);if(o){if(n.applePayBtnOptions=function(e){if(e){var t=e.applePayOptions;if(t&&"object"===f()(t)){var n=t.buttonLanguage,r=t.buttonType,o=function(e){if("string"!=typeof e)return"black";switch(e.toLowerCase()){case"black":return"black";case"white":return"white";case"white-outline":return"white-with-line";default:return"black"}}(t.buttonStyle);return{buttonLanguage:n&&"string"==typeof n?"".concat(n):C.buttonLanguage,buttonType:r&&"string"==typeof r?"".concat(r):C.buttonType,buttonStyle:o}}}return C}(t||n.applePayBtnOptions),"function"!=typeof n.createTecPrTokenMethod||"string"!=typeof n.teConnect.prFrameUrl)throw new Error("Error in 'mountTecPrButton'. Payment Request interface not found.");var c=M("string"==typeof e?e:e.applePayNode);n.attachTeFormListener();var s=(b=n.applePayBtnOptions.buttonType,(w=document.createElement("style")).innerHTML="\n        .apple-pay-button {\n            display: inline-block;\n            -webkit-appearance: -apple-pay-button;\n            -apple-pay-button-type: ".concat(b,";\n        }\n        .apple-pay-button-black {\n            -apple-pay-button-style: black;\n        }\n        .apple-pay-button-white {\n            -apple-pay-button-style: white;\n        }\n        .apple-pay-button-white-with-line {\n            -apple-pay-button-style: white-outline;\n        }\n    "),w);c.appendChild(s);var u=I(n.teConnect.prFrameUrl,!0);a.appendChild(u),c.appendChild(a);var l=(m=(y=n.applePayBtnOptions).buttonStyle,g=y.buttonLanguage,(v=document.createElement("div")).id="te-connect-apple-pay-btn",v.classList.add("apple-pay-button","apple-pay-button-"+m),v.lang=g,v);l.onclick=n.createPaymentRequestToken,c.appendChild(l)}if(i){if("function"!=typeof n.mountGoogleBtnMethod)throw new Error("Error in 'mountTecPrButton'. Payment Request interface not found.");var p="string"==typeof e?e:e.googlePayNode,d=M(p);o||d.appendChild(a);var h={instanceId:n.teConnect.requestClient.instanceId,eventRef:a};t&&t.googlePayOptions&&(h.googlePayOptions=t.googlePayOptions),n.mountGoogleBtnMethod(p,h)}}var y,m,g,v,b,w,P})),m()(this,"canMakePayments",(function(e){return function(){return new Promise((function(t){return e().then((function(e){n.canMakePaymentsResult=e,t(e)}))}))}})),m()(this,"createTecPaymentRequest",(function(e){if("function"==typeof n.teConnect.paymentsRequestInterface){var t=n.teConnect.paymentsRequestInterface(e),r=t.createPaymentRequestToken,o=t.canMakePayments,i=t.mountGoogleButton,c=a()(t,["createPaymentRequestToken","canMakePayments","mountGoogleButton"]);return n.createTecPrTokenMethod=r,n.mountGoogleBtnMethod=i,T(T({},c),{},{canMakePayments:n.canMakePayments(o),mountTecPrButton:n.mountTecPrButton})}throw new Error("Please provide 'tecPaymentRequest' options to the 'createTEConnect' method, prior to creating a prInterface")})),this.teConnect=function(e){if(!e)throw new Error(NO_INSTANCE);if("object"!==f()(e.requestClient))throw new Error(INCOMPLETE_INSTANCE);var t=e.requestClient;if("function"!=typeof t.hasOwnProperty)throw new Error(INCOMPLETE_INSTANCE);var n,r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(v);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!t.hasOwnProperty(o))throw new Error(INCOMPLETE_INSTANCE)}}catch(e){r.e(e)}finally{r.f()}return e}(t),this.listenerOptionsSupported=function(){var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}(),this.formIdListener=this.formIdListener.bind(this),this.attachTeFormListener=this.attachTeFormListener.bind(this),this.mountCardEntry=this.mountCardEntry.bind(this)}return h()(e,[{key:"clientStyles",get:function(){return this._clientStyles},set:function(e){JSON.stringify(this.clientStyles)!==JSON.stringify(e)&&this.sendStyles(e),this._clientStyles=e}},{key:"formId",get:function(){return this._formId},set:function(e){""!==e&&"object"===f()(this.clientStyles)&&this.sendStyles(this.clientStyles),this._formId=e}}]),h()(e,[{key:"formIdListener",value:function(e){if("https://teconnectdemo.magensa.dev"===e.origin&&e.data&&"string"==typeof e.data){var t=JSON.parse(e.data),n=t.formId,r=t.prFormId;"string"==typeof n&&n.length>5&&(this.formId=n),"string"==typeof r&&r.length>5&&(this.prFormId=r)}}},{key:"attachTeFormListener",value:function(){window.addEventListener("message",this.formIdListener,!this.listenerOptionsSupported||O),window.addEventListener("unload",(function(){window.removeEventListener("message",this.formIdListener,!this.listenerOptionsSupported||O)}),!this.listenerOptionsSupported||O)}}]),e}(),j=function e(t){o()(this,e);var n=new x(t);this.createPayment=n.createPayment,this.setStyles=n.setStyles,this.mountCardEntry=n.mountCardEntry,this.createTecPaymentRequest=n.createTecPaymentRequest}}])},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);const i={base:{wrapper:{margin:0,padding:0},variants:{inputType:"outlined",inputMargin:"dense"},backgroundColor:"rgb(66, 66, 66)"},boxes:{labelColor:"#BB86FC",textColor:"#BB86FC",borderRadius:10,errorColor:"#CF6679",inputColor:"#121212"}},a={base:{wrapper:{margin:0,padding:0},variants:{inputType:"filled",inputMargin:"dense"},backgroundColor:"#f44336"},boxes:{textColor:"#90ee02",borderRadius:2,errorColor:"#2196f3",inputColor:"#ff7961"}},c={storeDisplayName:"TEConnect Dev Store",currencyCode:"USD",countryCode:"US",supportedNetworks:["visa","masterCard","amex","discover","jcb"],merchantCapabilities:["supports3DS"],total:{label:"Test Transaction",amount:"1.00",type:"final"},shippingType:["shipping"],shippingMethods:[{label:"Free Shipping",detail:"Arrives in a week",amount:"0.00",identifier:"FreeShipping"},{label:"Not Free Shipping",detail:"Arrives in less than week",amount:"0.11",identifier:"ChargeShipping"}],requiredShippingContactFields:["name","email","phone","postalAddress"],requiredBillingContactFields:["name","email","phone"],shippingContact:{phoneNumber:"888-8888",emailAddress:"something@example.ne",givenName:"Bob",familyName:"Kahuna",addressLines:["123 Main St.","Suite 101"],locality:"Los Angeles",administrativeArea:"CA",postalCode:"90010",country:"United States",countryCode:"US"},billingContact:{emailAddress:"something@example.ne",givenName:"Bob",familyName:"Kahuna",addressLines:["123 Main St.","Suite 101"],subLocality:"Los Angeles",locality:"CA",postalCode:"90010",country:"United States",countryCode:"US"}};function s(e){let t={displayItems:[{label:"Subtotal",type:"SUBTOTAL",price:"11.00"},{label:"Tax",type:"TAX",price:"1.00"}],countryCode:"US",currencyCode:"USD",totalPriceStatus:"FINAL",totalPrice:"12.00",totalPriceLabel:"Total"},n={"shipping-001":"0.00","shipping-002":"1.99","shipping-003":"10.00"}[e];t.displayItems.push({type:"LINE_ITEM",label:"Shipping cost",price:n,status:"FINAL"});let r=0;return t.displayItems.forEach(e=>r+=parseFloat(e.price)),t.totalPrice=r.toString(),t}const u={apiVersion:2,apiVersionMinor:0,allowedCardNetworks:["AMEX","DISCOVER","JCB","MASTERCARD","MIR","VISA"],merchantName:"TEConnect Test",gatewayId:"GP21481460",transactionInfo:{displayItems:[{label:"Subtotal",type:"SUBTOTAL",price:"11.00"},{label:"Tax",type:"TAX",price:"1.00"}],countryCode:"US",currencyCode:"USD",totalPriceStatus:"FINAL",totalPrice:"12.00",totalPriceLabel:"Total"},callbackIntents:["SHIPPING_ADDRESS","SHIPPING_OPTION","PAYMENT_AUTHORIZATION"],emailRequired:!0,shippingAddressRequired:!0,shippingOptionRequired:!0,shippingAddressParameters:{allowedCountryCodes:["US"],phoneNumberRequired:!0},shippingOptionParameters:{defaultSelectedOptionId:"shipping-001",shippingOptions:[{id:"shipping-001",label:"$0.00: Free shipping",description:"Free Shipping delivered in 5 business days."},{id:"shipping-002",label:"$1.99: Standard shipping",description:"Standard shipping delivered in 3 business days."},{id:"shipping-003",label:"$1000: Express shipping",description:"Express shipping delivered in 1 business day."}]},paymentDataCallbacks:{onPaymentAuthorized:function(e){return new Promise((function(t,n){(function(e){return new Promise((function(t,n){setTimeout((function(){console.log(e),console.log(e.paymentMethodData.tokenizationData.token),t({})}),3e3)}))})(e).then((function(){t({transactionState:"SUCCESS"})})).catch((function(){t({transactionState:"ERROR",error:{intent:"PAYMENT_AUTHORIZATION",message:"Insufficient funds",reason:"PAYMENT_DATA_INVALID"}})}))}))},onPaymentDataChanged:function(e){return new Promise((function(t,n){let r=e.shippingAddress,o=e.shippingOptionData,i={};if("INITIALIZE"==e.callbackTrigger||"SHIPPING_ADDRESS"==e.callbackTrigger)if("NJ"==r.administrativeArea)i.error={reason:"SHIPPING_ADDRESS_UNSERVICEABLE",message:"Cannot ship to the selected address",intent:"SHIPPING_ADDRESS"};else{i.newShippingOptionParameters={defaultSelectedOptionId:"shipping-001",shippingOptions:[{id:"shipping-001",label:"Free: Standard shipping",description:"Free Shipping delivered in 5 business days."},{id:"shipping-002",label:"$1.99: Standard shipping",description:"Standard shipping delivered in 3 business days."},{id:"shipping-003",label:"$10: Express shipping",description:"Express shipping delivered in 1 business day."}]};let e=i.newShippingOptionParameters.defaultSelectedOptionId;i.newTransactionInfo=s(e)}else"SHIPPING_OPTION"==e.callbackTrigger&&(i.newTransactionInfo=s(o.id));t(i)}))}},existingPaymentMethodRequired:!0,allowedPaymentMethods:{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["AMEX","DISCOVER","JCB","MASTERCARD","VISA"]}},environment:"TEST"},l=(e,t)=>document.getElementById(e).innerText=JSON.stringify(t,null,"\t"),p={applePayOptions:{buttonLanguage:"ja",buttonType:"book",buttonStyle:"white-outline"},googlePayOptions:{preClick:()=>console.log("JS preClick executed",void 0),buttonColor:"white",buttonType:"order",buttonLocale:"ja",buttonSizeMode:"fill"}};!function(){var e=Object(r.createTEConnect)("Y2xpZW50VG9rZW5Qb2NDb2RlL2NsaWVudFRva2VuUG9jVXNlcjpQYXNzd29yZDEh",{tecPaymentRequest:{appleMerchantId:"AP00000001",googleMerchantId:"BCR2DN4T4CU2XKIQ"}}),t=new o.TeConnectJs(e);t.mountCardEntry("example-div",i);var n=t.createTecPaymentRequest({applePay:c,googlePay:u});console.log("tecPrInterface",n),n.canMakePayments().then(e=>{console.log(e),l("cmp-result",e),e&&n.mountTecPrButton("tec-pr-btn",p)}),n.listenFor("confirm-token",e=>{l("tec-result",e);const{tokenDetails:t,completePayment:n,error:r}=e;console.log("customer token",t),t&&"applePay"===t.type&&n(r?"failure":"success")}),n.listenFor("cancel-transaction",e=>{console.log(e),l("err-node",e)}),n.listenFor("payment-method-selection",e=>{const{paymentMethod:t,completePaymentMethodSelection:n}=e,r={newTotal:{label:"Updated Payment Method",amount:"0.00",type:"final"}};if("credit"===t.type){n({newTotal:{...r.newTotal,amount:"1.10"}})}else if("debit"===t.type){n({newTotal:{...r.newTotal,amount:"0.10"}})}n(r)}),n.listenFor("shipping-contact-update",e=>{const{shippingContact:t,completeShippingContactSelection:n}=e;n("US"===t.countryCode?{newTotal:{label:"Test Positive Transaction for Shipping Update",amount:"1.00",type:"final"},newShippingMethods:[{label:"Outside Shipping Network",detail:"Arrives in 7-12 weeks",amount:"100.00",identifier:"OutOfCountryShip"},{label:"Free Shipping",detail:"Arrives in less than week",amount:"0.00",identifier:"FreeShipping"}]}:{newTotal:{label:"Test Negative Transaction for Shipping Update",amount:"1.00",type:"final"},errors:[{errorType:"addressInvalid",message:"Cannot Ship Outside the US"}]})}),n.listenFor("shipping-method-update",e=>{const{shippingMethod:t,completeShippingMethodSelection:n}=e;"OutOfCountryShip"===t.identifier?n({newTotal:{label:"Item with Shipping Out of Network",amount:"101.00",type:"final"}}):n({newTotal:{label:"Item with Free Shipping",amount:"1.00",type:"final"}})}),document.getElementById("pay-button").addEventListener("click",(function(){return t.createPayment().then(e=>{e.error?l("err-node",e):l("tec-result",e)}).catch(e=>{console.error("[Catch]:",e),l("err-node",e)})})),document.getElementById("change-styles").addEventListener("click",(function(){t.setStyles(a)}))}()}]);